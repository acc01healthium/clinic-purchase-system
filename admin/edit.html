const db = window.supabaseClient;

async function loadProduct() {
  const { data, error } = await db
    .from("products")
    .select("*")
    .eq("id", productId)
    .single();

  if (error) {
    alert("讀取商品失敗：" + error.message);
    return;
  }

  name.value = data.name || "";
  category.value = data.category || "";
  spec.value = data.spec || "";
  unit.value = data.unit || "";
  description.value = data.description || "";
  last_price.value = data.last_price || "";
  is_active.value = data.is_active ? "true" : "false";

  if (data.image_url) {
    image_url.value = data.image_url;
    previewImage.src = data.image_url;
  }
}
